/*!
 * newrelic-timing v0.5.0 - Integrates Single Page Apps with NewRelic's Real User Monitoring
 * Copyright (c) 2015 Diogo Terror <diogo@uken.com>, pitr <pitr.vern@gmail.com> - https://github.com/uken/newrelic-timing
 * License: MIT
 */

!function(a,b){a.NewrelicTiming=function(){this.marks={},this.newrelic=b,this.mark=function(a){this.marks[a]=+new Date},this.measure=function(a,b){var c,d;return b?(d=this.marks[b],c=this.marks[a]):(d=this.marks[a],c=+new Date),c-d},this.sendNRBeacon=function(b){if(this.checkBeaconRequirements()){b||(b=a.location.hash.substring(1));var c=this.measure("domLoaded","navStart"),d=this.measure("pageRendered","navStart"),e={name:b,start:c,end:d};this.newrelic.addToTrace(e)}},this.checkBeaconRequirements=function(){return this.newrelic&&this.newrelic.addToTrace&&"function"==typeof this.newrelic.addToTrace?this.marks.navStart&&this.marks.domLoaded&&this.marks.pageRendered:!1}}}(window,window.newrelic);